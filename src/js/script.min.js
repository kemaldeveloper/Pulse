'use strict'
$(document).ready(function () {
  function t(e) {
    $(this).on('click', function (t) {
      t.preventDefault(), $('.catalog-item__content').eq(e).toggleClass('catalog-item__content_active'), $('.catalog-item__list').eq(e).toggleClass('catalog-item__list_active')
    })
  }
  function e(t) {
    $(t).validate({
      rules: { name: { required: !0, minlength: 2 }, phone: 'required', email: { required: !0, email: !0 } },
      messages: {
        name: { required: 'Пожалуйста введите свое имя', minlength: jQuery.validator.format('Введите {0} символa!') },
        phone: 'Пожалуйста, введите свой номер телефона',
        email: { required: 'Пожалуйста введите свою почту', email: 'Неправильно введен адрес почты' },
      },
    })
  }
  console.log('test'),
    $('.carousel__inner').slick({
      speed: 1200,
      adaptiveHeigt: !0,
      prevArrow: '<button type="button" class="slick-prev"><img src="icons/left.svg"></button>',
      nextArrow: '<button type="button" class="slick-next"><img src="icons/right.svg"></button',
      responsive: [{ breakpoint: 768, settings: { dots: !0, arrows: !1 } }],
    }),
    $('ul.catalog__tabs').on('click', 'li:not(.catalog__tab_active)', function () {
      $(this).addClass('catalog__tab_active').siblings().removeClass('catalog__tab_active').closest('div.container').find('div.catalog__content').removeClass('catalog__content_active').eq($(this).index()).addClass('catalog__content_active')
    }),
    $('.catalog-item__link').each(t),
    $('.catalog-item__back').each(t),
    $('[data-modal=consultation]').on('click', function () {
      $('.overlay,#consultation').fadeIn('slow')
    }),
    $('.modal__close').on('click', function () {
      $('.overlay,#consultation,#thanks,#order').fadeOut('slow')
    }),
    $('.button_mini').each(function (t) {
      $(this).on('click', function () {
        $('#order .modal__descr').text($('.catalog-item__subtitle').eq(t).text()), $('.overlay,#order').fadeIn('slow')
      })
    }),
    e('#consultation-form'),
    e('#consultation form'),
    e('#order form'),
    $('input[name=phone]').mask('+999 99 99-99-99'),
    $('form').submit(function (t) {
      if ((t.preventDefault(), $(this).valid()))
        return (
          $.ajax({ type: 'POST', url: 'mailer/smart.php', data: $(this).serialize() }).done(function () {
            $(this).find('input').val(''), $('#consultation, #order').fadeOut(), $('.overlay, #thanks').fadeIn('slow'), $('form').trigger('reset')
          }),
          !1
        )
    })
})
